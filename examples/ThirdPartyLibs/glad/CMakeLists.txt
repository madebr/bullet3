IF(BUILD_SHARED_LIBS)
	SET(CMAKE_POSITION_INDEPENDENT_CODE ON)
ENDIF()

ADD_LIBRARY(glad_gl STATIC
	gl.c
)
IF(NOT WIN32)
	TARGET_LINK_LIBRARIES(glad_gl PUBLIC
		${CMAKE_DL_LIBS})
ENDIF()
IF(WIN32 OR APPLE)
	TARGET_LINK_LIBRARIES(glad_gl PUBLIC ${OPENGL_gl_LIBRARY})
ENDIF()
TARGET_INCLUDE_DIRECTORIES(glad_gl PUBLIC
	"$<BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}>"
	"$<INSTALL_INTERFACE:${BULLET_INSTALL_INCLUDE_DIR}>"
)

if(NOT WIN32)
	ADD_LIBRARY(glad_glx STATIC
		glx.c
	)
	TARGET_LINK_LIBRARIES(glad_glx PUBLIC
		${CMAKE_DL_LIBS}
		X11Headers)
	TARGET_INCLUDE_DIRECTORIES(glad_glx PUBLIC
		"$<BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}>"
		"$<INSTALL_INTERFACE:${BULLET_INSTALL_INCLUDE_DIR}>"
	)
	TARGET_COMPILE_DEFINITIONS(glad_glx PUBLIC
		GLEW_DYNAMIC_LOAD_ALL_GLX_FUNCTIONS
		DYNAMIC_LOAD_X11_FUNCTIONS
	)
ENDIF()

ADD_LIBRARY(glad_egl STATIC
	egl.c
)
TARGET_INCLUDE_DIRECTORIES(glad_egl PUBLIC
	"$<BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}>"
	"$<INSTALL_INTERFACE:${BULLET_INSTALL_INCLUDE_DIR}>"
)
IF(NOT WIN32)
	TARGET_LINK_LIBRARIES(glad_egl PUBLIC
		${CMAKE_DL_LIBS}
		X11Headers)
ENDIF()
