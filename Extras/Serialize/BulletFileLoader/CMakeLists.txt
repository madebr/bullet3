SET(BulletFileLoader_SRCS
	bChunk.cpp
	bDNA.cpp
	bFile.cpp
	btBulletFile.cpp
)

SET(BulletFileLoader_HDRS
	bChunk.h
	bCommon.h
	bDefines.h
	bDNA.h
	bFile.h
	btBulletFile.h
)

ADD_LIBRARY(BulletFileLoader ${BulletFileLoader_SRCS} ${BulletFileLoader_HDRS})
TARGET_LINK_LIBRARIES(BulletFileLoader PUBLIC LinearMath Bullet3Common)
TARGET_INCLUDE_DIRECTORIES(BulletFileLoader PUBLIC
	"$<BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}>"
	"$<INSTALL_INTERFACE:${BULLET_INSTALL_INCLUDEDIR}>")
SET_TARGET_PROPERTIES(BulletFileLoader PROPERTIES VERSION ${BULLET_VERSION})
SET_TARGET_PROPERTIES(BulletFileLoader PROPERTIES SOVERSION ${BULLET_VERSION})

IF(APPLE AND BUILD_SHARED_LIBS AND FRAMEWORK)
	BULLET3_INSTALL(TARGETS BulletFileLoader DESTINATION .)

	SET_TARGET_PROPERTIES(BulletFileLoader PROPERTIES FRAMEWORK ON)
	SET_TARGET_PROPERTIES(BulletFileLoader PROPERTIES PUBLIC_HEADER "${BulletFileLoader_HDRS}")
ELSE()
	BULLET3_INSTALL(TARGETS BulletFileLoader
							RUNTIME DESTINATION ${BULLET_INSTALL_BINDIR}
							LIBRARY DESTINATION ${BULLET_INSTALL_LIBDIR}
							ARCHIVE DESTINATION ${BULLET_INSTALL_LIBDIR})
	BULLET3_INSTALL(
		DIRECTORY ${CMAKE_CURRENT_SOURCE_DIR}
		DESTINATION ${BULLET_INSTALL_INCLUDEDIR} FILES_MATCHING PATTERN "*.h" PATTERN "CMakeFiles" EXCLUDE)
ENDIF()
