SET(BULLETXMLWORLDIMPORTER_SRCS
	btBulletXmlWorldImporter.cpp
	string_split.cpp
)

SET(BULLETXMLWORLDIMPORTER_HDRS
	btBulletXmlWorldImporter.h
	string_split.h
)

ADD_LIBRARY(BulletXmlWorldImporter ${BULLETXMLWORLDIMPORTER_SRCS} ${BULLETXMLWORLDIMPORTER_HDRS})
TARGET_LINK_LIBRARIES(BulletXmlWorldImporter BulletWorldImporter BulletDynamics BulletCollision BulletFileLoader LinearMath tinyxml2)
TARGET_INCLUDE_DIRECTORIES(BulletXmlWorldImporter PUBLIC
	"$<BUILD_INTERFACE:${BULLET_PHYSICS_SOURCE_DIR}/Extras/Serialize/BulletFileLoader>"
	"$<BUILD_INTERFACE:${BULLET_PHYSICS_SOURCE_DIR}/Extras/Serialize/BulletWorldImporter>"
)

SET_TARGET_PROPERTIES(BulletXmlWorldImporter  PROPERTIES VERSION ${BULLET_VERSION})
SET_TARGET_PROPERTIES(BulletXmlWorldImporter PROPERTIES SOVERSION ${BULLET_VERSION})

IF(APPLE AND BUILD_SHARED_LIBS AND FRAMEWORK)
	BULLET3_INSTALL(TARGETS BulletXmlWorldImporter DESTINATION .)

	SET_TARGET_PROPERTIES(BulletXmlWorldImporter PROPERTIES FRAMEWORK ON)
	SET_TARGET_PROPERTIES(BulletXmlWorldImporter PROPERTIES PUBLIC_HEADER "btBulletXmlWorldImporter.h")
ELSE()
	BULLET3_INSTALL(TARGETS BulletXmlWorldImporter
							RUNTIME DESTINATION ${BULLET_INSTALL_BINDIR}
							LIBRARY DESTINATION ${BULLET_INSTALL_LIBDIR}
							ARCHIVE DESTINATION ${BULLET_INSTALL_LIBDIR})

	BULLET3_INSTALL(
		DIRECTORY ${CMAKE_CURRENT_SOURCE_DIR}
		DESTINATION ${BULLET_INSTALL_INCLUDEDIR} FILES_MATCHING PATTERN "*.h" PATTERN "CMakeFiles" EXCLUDE)
ENDIF()
