SET(BULLETWORLDIMPORTER_SRCS
	btMultiBodyWorldImporter.cpp
	btBulletWorldImporter.cpp
	btWorldImporter.cpp
)

SET(BULLETWORLDIMPORTER_HDRS
	btBulletWorldImporter.h
	btWorldImporter.h
)

ADD_LIBRARY(BulletWorldImporter ${BULLETWORLDIMPORTER_SRCS} ${BULLETWORLDIMPORTER_HDRS})
TARGET_LINK_LIBRARIES(BulletWorldImporter BulletDynamics BulletCollision BulletFileLoader LinearMath)
TARGET_INCLUDE_DIRECTORIES(BulletWorldImporter PRIVATE
	"$<BUILD_INTERFACE:${BULLET_PHYSICS_SOURCE_DIR}/Extras/Serialize/BulletFileLoader>"
)

SET_TARGET_PROPERTIES(BulletWorldImporter PROPERTIES VERSION ${BULLET_VERSION})
SET_TARGET_PROPERTIES(BulletWorldImporter PROPERTIES SOVERSION ${BULLET_VERSION})

IF (APPLE AND BUILD_SHARED_LIBS AND FRAMEWORK)
	BULLET3_INSTALL(TARGETS BulletWorldImporter DESTINATION .)

	SET_TARGET_PROPERTIES(BulletWorldImporter PROPERTIES FRAMEWORK ON)
	SET_TARGET_PROPERTIES(BulletWorldImporter PROPERTIES PUBLIC_HEADER "btBulletWorldImporter.h")
ELSE()
	BULLET3_INSTALL(TARGETS BulletWorldImporter
							RUNTIME DESTINATION ${BULLET_INSTALL_BINDIR}
							LIBRARY DESTINATION ${BULLET_INSTALL_LIBDIR}
							ARCHIVE DESTINATION ${BULLET_INSTALL_LIBDIR})
	BULLET3_INSTALL(DIRECTORY ${CMAKE_CURRENT_SOURCE_DIR}
		DESTINATION ${BULLET_INSTALL_INCLUDEDIR} FILES_MATCHING PATTERN "*.h" PATTERN "CMakeFiles" EXCLUDE)
ENDIF()
